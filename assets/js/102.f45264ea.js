(window.webpackJsonp=window.webpackJsonp||[]).push([[102],{458:function(s,a,e){"use strict";e.r(a);var t=e(8),r=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"本地内网穿透搭建mc服务器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#本地内网穿透搭建mc服务器"}},[s._v("#")]),s._v(" 本地内网穿透搭建MC服务器")]),s._v(" "),a("h2",{attrs:{id:"前言"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[s._v("#")]),s._v(" 前言")]),s._v(" "),a("p",[s._v("如果你和你的朋友在同一个局域网下(校园网，家庭网，热点)情况下，搭建好服务器就可以了，不需要再内网穿透")]),s._v(" "),a("p",[a("img",{attrs:{src:"/medias/mc/net.png",alt:"net"}})]),s._v(" "),a("p",[s._v("在centos虚拟机内网穿透的环境下搭建MC服务器联机，预计耗时2-3小时")]),s._v(" "),a("p",[s._v("虚拟机是这样的。独立ip服务器只需要搭建就可以了。虚拟机要考虑的事就多了，修改配置、内网穿透、小水管带宽(恼)")]),s._v(" "),a("p",[a("img",{attrs:{src:"/medias/mc/mc.png",alt:"0"}})]),s._v(" "),a("h2",{attrs:{id:"工具准备"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#工具准备"}},[s._v("#")]),s._v(" 工具准备")]),s._v(" "),a("ul",[a("li",[s._v("VMware")]),s._v(" "),a("li",[s._v("Centos")]),s._v(" "),a("li",[s._v("Xshell(可选)")])]),s._v(" "),a("h2",{attrs:{id:"centos配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#centos配置"}},[s._v("#")]),s._v(" centos配置")]),s._v(" "),a("p",[s._v("在我服务器的2h2g3m的ubuntu开服时可能是内存太小了，运行不了，有空用centos再试一次")]),s._v(" "),a("p",[s._v("虚拟机centos配置：2h8g，40硬盘")]),s._v(" "),a("h2",{attrs:{id:"centos安装和环境配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#centos安装和环境配置"}},[s._v("#")]),s._v(" centos安装和环境配置")]),s._v(" "),a("h3",{attrs:{id:"安装及配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装及配置"}},[s._v("#")]),s._v(" 安装及配置")]),s._v(" "),a("p",[s._v("在阿里云镜像站下载centos，"),a("a",{attrs:{href:"https://mirrors.aliyun.com/centos/7.9.2009/isos/x86_64/CentOS-7-x86_64-Minimal-2207-02.iso",target:"_blank",rel:"noopener noreferrer"}},[s._v("点我下载"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("img",{attrs:{src:"/medias/mc/1.png",alt:"1"}})]),s._v(" "),a("p",[s._v("虚拟机安装过程可以一路默认，路径语言root密码可以重点看一下")]),s._v(" "),a("p",[s._v("重启进入centos时是纯命令行，用户名root，密码是刚才设置的密码(输入时不显示)")]),s._v(" "),a("p",[a("img",{attrs:{src:"/medias/mc/2.png",alt:"2"}})]),s._v(" "),a("h2",{attrs:{id:"换源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#换源"}},[s._v("#")]),s._v(" 换源")]),s._v(" "),a("p",[s._v("centos默认下载源速度慢，可能下载不通，更换为阿里源")]),s._v(" "),a("p",[s._v("备份")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.bak\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("换源")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rm")]),s._v(" /etc/yum.repos.d/CentOS-Base.repo\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" /etc/yum.repos.d/CentOS-Base.repo\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("将内容替换为")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("base"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CentOS-"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$releasever")]),s._v(" - Base - mirrors.aliyun.com\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("baseurl")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http://mirrors.aliyun.com/centos/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$releasever")]),s._v("/os/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$basearch")]),s._v("/\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gpgcheck")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gpgkey")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-7\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("updates"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CentOS-"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$releasever")]),s._v(" - Updates - mirrors.aliyun.com\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("baseurl")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http://mirrors.aliyun.com/centos/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$releasever")]),s._v("/updates/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$basearch")]),s._v("/\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gpgcheck")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gpgkey")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-7\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("extras"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CentOS-"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$releasever")]),s._v(" - Extras - mirrors.aliyun.com\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("baseurl")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http://mirrors.aliyun.com/centos/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$releasever")]),s._v("/extras/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$basearch")]),s._v("/\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gpgcheck")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gpgkey")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-7\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("centosplus"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("name")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("CentOS-"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$releasever")]),s._v(" - Plus - mirrors.aliyun.com\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("baseurl")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http://mirrors.aliyun.com/centos/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$releasever")]),s._v("/centosplus/"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$basearch")]),s._v("/\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gpgcheck")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("gpgkey")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("http://mirrors.aliyun.com/centos/RPM-GPG-KEY-CentOS-7\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])]),a("p",[s._v("保存退出")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("yum update\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("后面一路选择y")]),s._v(" "),a("h3",{attrs:{id:"可能出现的问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#可能出现的问题"}},[s._v("#")]),s._v(" 可能出现的问题")]),s._v(" "),a("p",[s._v("如果没有网络(ping baidu.com都没有回显)，yum更新失败，给虚拟机再添加一个nat网络适配器")]),s._v(" "),a("p",[s._v("参考"),a("a",{attrs:{href:"https://blog.csdn.net/Coin_Collecter/article/details/129980327",target:"_blank",rel:"noopener noreferrer"}},[s._v("VMware安装完Linux(CentOS)虚拟机后无法连接网络解决方法"),a("OutboundLink")],1)]),s._v(" "),a("h3",{attrs:{id:"安装wget"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装wget"}},[s._v("#")]),s._v(" 安装wget")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"获取ipv4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#获取ipv4"}},[s._v("#")]),s._v(" 获取ipv4")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v(" a\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("没有显示ipv4的地址")]),s._v(" "),a("p",[s._v("解决方法")]),s._v(" "),a("p",[s._v("参考文章"),a("br"),s._v(" "),a("a",{attrs:{href:"https://blog.csdn.net/keepkind/article/details/128890618",target:"_blank",rel:"noopener noreferrer"}},[s._v("centos解决不显示ipv4"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("到/etc/sysconfig/network-scripts目录下修改配置文件")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /etc/sysconfig/network-scripts\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" ifcfg-ens33\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("将最后的ONBOOT=no改为ONEBOOT=yes")]),s._v(" "),a("p",[a("img",{attrs:{src:"/medias/mc/3.png",alt:"3"}})]),s._v(" "),a("p",[s._v("上下键滑到指定位置按i修改为yes，按esc，输入:wq退出")]),s._v(" "),a("p",[s._v("重启一下。再次查看ipv4")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ip")]),s._v(" a\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"/medias/mc/4.png",alt:"4"}})]),s._v(" "),a("p",[s._v("我这里就是192.168.138.133")]),s._v(" "),a("h3",{attrs:{id:"换到xshell操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#换到xshell操作"}},[s._v("#")]),s._v(" 换到xshell操作")]),s._v(" "),a("p",[s._v("上面过程自己输命令有点累，下载xshell"),a("a",{attrs:{href:"https://cdn.netsarang.net/v7/Xshell-latest-p",target:"_blank",rel:"noopener noreferrer"}},[s._v("下载连接"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("22端口ssh连接，名字随意，ip是上面获取的ipv4")]),s._v(" "),a("p",[a("img",{attrs:{src:"/medias/mc/5.png",alt:"5"}})]),s._v(" "),a("p",[s._v("左侧密码")]),s._v(" "),a("p",[a("img",{attrs:{src:"/medias/mc/6.png",alt:"6"}})]),s._v(" "),a("p",[s._v("现在的命令你可以右键复制到终端了")]),s._v(" "),a("h2",{attrs:{id:"下载java17"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#下载java17"}},[s._v("#")]),s._v(" 下载java17")]),s._v(" "),a("p",[s._v("参考"),a("a",{attrs:{href:"https://blog.csdn.net/qq_45035939/article/details/133935397",target:"_blank",rel:"noopener noreferrer"}},[s._v("在 CentOS 7/RHEL 7 上安装 Java 17 (OpenJDK 17) "),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("下载二进制文件")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://download.oracle.com/java/17/latest/jdk-17_linux-x64_bin.rpm\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("安装java17")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("yum "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" ./jdk-17_linux-x64_bin.rpm\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("验证")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("java")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-version")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("打印版本即成功")]),s._v(" "),a("h2",{attrs:{id:"安装mc服务端"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装mc服务端"}},[s._v("#")]),s._v(" 安装MC服务端")]),s._v(" "),a("p",[s._v("MC官网下载"),a("a",{attrs:{href:"https://mcversions.net/",target:"_blank",rel:"noopener noreferrer"}},[s._v("MC"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("选择稳定版本，我这里用1.19.3")]),s._v(" "),a("p",[a("img",{attrs:{src:"/medias/mc/7.png",alt:"7"}})]),s._v(" "),a("p",[s._v("右键复制下载链接")]),s._v(" "),a("p",[a("img",{attrs:{src:"/medias/mc/8.png",alt:"8"}})]),s._v(" "),a("p",[s._v("在xshell中执行")]),s._v(" "),a("p",[s._v("创建mc的安装路径，并进入")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" MCserver\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" MCserver\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" https://piston-data.mojang.com/v1/objects/c9df48efed58511cdd0213c56b9013a7b5c9ac1f/server.jar\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"配置mc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置mc"}},[s._v("#")]),s._v(" 配置MC")]),s._v(" "),a("p",[s._v("启动！")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 不指定，默认加载 world 文件夹")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# java -jar server.jar --world new_world --nogui")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# nogui 没有Gui图形化界面")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("java")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-jar")]),s._v(" server.jar "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--nogui")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("报错，首次运行需要同意协议")]),s._v(" "),a("p",[a("img",{attrs:{src:"/medias/mc/9.png",alt:"9"}})]),s._v(" "),a("p",[s._v("列出文件夹目录，有eula.txt")]),s._v(" "),a("p",[s._v("编辑eula.txt")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" eula.txt\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("按i编辑文件，将文件中的eula=false改为eula=true，再按esc输入:wq保存退出")]),s._v(" "),a("p",[s._v("如果你不是正版用户，你还需要修改配置文件。")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" server.properties\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"/medias/mc/10.png",alt:"10"}})]),s._v(" "),a("p",[s._v("同样将online-mode的true修改为false（关闭正版验证）,改动完保存")]),s._v(" "),a("p",[s._v("再次启动")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("java")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-jar")]),s._v(" server.jar "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--nogui")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"创建新世界"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建新世界"}},[s._v("#")]),s._v(" 创建新世界")]),s._v(" "),a("p",[s._v("如果没有-world参数默认加载‘world’世界存档内容，指定一个新建文件夹就可以创建新的世界")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" new_world\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("java")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-jar")]),s._v(" server.jar "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--world")]),s._v(" new_world "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--nogui")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"内网穿透"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#内网穿透"}},[s._v("#")]),s._v(" 内网穿透")]),s._v(" "),a("p",[s._v("如果你有公网ip的服务器，你可以省略这一步。最后一步内网穿透，经过这一步你就可以联机了")]),s._v(" "),a("p",[s._v("推荐一个内网穿透工具"),a("a",{attrs:{href:"https://www.cpolar.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Cpolar"),a("OutboundLink")],1),s._v("，在官网注册一下")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://www.cpolar.com/docs",target:"_blank",rel:"noopener noreferrer"}},[s._v("官方文档"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("带宽1M/s，这水管太小了，不过不限量，多人可能会很卡顿")]),s._v(" "),a("p",[s._v("安装Cpolar")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-L")]),s._v(" https://www.cpolar.com/static/downloads/install-release-cpolar.sh "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("验证是否安装成功")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("cpolar version\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("验证个人token")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("cpolar authtoken xxxxxxx\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("添加系统服务")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" cpolar\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("启动Cpolar")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl start cpolar\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"/medias/mc/11.png",alt:"11"}})]),s._v(" "),a("p",[s._v("现在你需要同时开启MC服务和Cpolar服务，这两个服务开启其中任意一个似乎都不能输入外界命令了，建议开启两个xshell页面")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("java")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-jar")]),s._v(" server.jar "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--nogui")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("在另一个界面")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("cpolar tcp "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-region")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("cn_vip "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("25565")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("现在可以联机了，看下官方文档")]),s._v(" "),a("p",[a("img",{attrs:{src:"/medias/mc/12.png",alt:"12"}})]),s._v(" "),a("p",[s._v("到Cpolar中复制分配给你的公网地址")]),s._v(" "),a("p",[s._v("例为tcp://6.tcp.cpolar.top:10577，注意tcp://无需复制，将6.tcp.cpolar.top:10577复制到mc中的服务器地址就可以联机了")]),s._v(" "),a("p",[a("img",{attrs:{src:"/medias/mc/mc.png",alt:"0"}})]),s._v(" "),a("p",[s._v("如果在一起跟教程搭建服务器失败时，可以在下方评论区留言")]),s._v(" "),a("h2",{attrs:{id:"体验"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#体验"}},[s._v("#")]),s._v(" 体验")]),s._v(" "),a("p",[s._v("在内网穿透提供的1M/s带宽下能够满足两个人流畅游戏")]),s._v(" "),a("h2",{attrs:{id:"补充"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#补充"}},[s._v("#")]),s._v(" 补充")]),s._v(" "),a("p",[s._v("游戏结束记得存档，避免下次游戏时读档异常无法启动")]),s._v(" "),a("p",[s._v("在MC服务器运行界面执行命令")]),s._v(" "),a("p",[s._v("结束游戏")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("/stop\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("存档")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("/save-all\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"其他"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他"}},[s._v("#")]),s._v(" 其他")]),s._v(" "),a("p",[s._v("关于局内游戏使用tp等命令时，需要在配置文件server.properties中开启command的一个配置项")]),s._v(" "),a("p",[s._v("在MC服务器运行界面给玩家添加管理员权限")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("/op username\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])])}),[],!1,null,null,null);a.default=r.exports}}]);