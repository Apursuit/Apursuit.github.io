(window.webpackJsonp=window.webpackJsonp||[]).push([[172],{535:function(t,s,a){"use strict";a.r(s);var n=a(11),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("p",[t._v("刷刷misc  ctfshow_新手必刷_菜狗杯")]),t._v(" "),s("p",[t._v("参考："),s("a",{attrs:{href:"https://blog.csdn.net/qq_47804678/article/details/128000446",target:"_blank",rel:"noopener noreferrer"}},[t._v("ctfshow 菜狗杯"),s("OutboundLink")],1)]),t._v(" "),s("h2",{attrs:{id:"谜之栅栏"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#谜之栅栏"}},[t._v("#")]),t._v(" 谜之栅栏")]),t._v(" "),s("p",[t._v("解压拿到两个图片，放在010editor里比较文件")]),t._v(" "),s("p",[s("img",{attrs:{src:"/medias/daily/misc/0.png",alt:"0"}})]),t._v(" "),s("p",[t._v("找到图片不同的部分，把两部分编码放一起，栅栏密码解密")]),t._v(" "),s("p",[s("img",{attrs:{src:"/medias/daily/misc/1.png",alt:"1"}})]),t._v(" "),s("p",[t._v("解密第一个比较像flag了，凑个格式提交flag")]),t._v(" "),s("p",[s("img",{attrs:{src:"/medias/daily/misc/2.png",alt:"2"}})]),t._v(" "),s("p",[t._v("分析：出题似乎可以在winhex里添加两部分不同内容，在相同地址，插入等长数据，如果不等长，后面的地址数据也都变成不同部分了。插入数据，可能会出现这种，插坏图片了，出现两个花图")]),t._v(" "),s("h2",{attrs:{id:"你会数数吗"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#你会数数吗"}},[t._v("#")]),t._v(" 你会数数吗")]),t._v(" "),s("p",[t._v("winhex打开这个没有扩展名的文件，文件内容没有什么规则，结合题目名字，像是词频统计")]),t._v(" "),s("p",[s("img",{attrs:{src:"/medias/daily/misc/3.png",alt:"3"}})]),t._v(" "),s("p",[t._v("在010editor里打开词频统计，按从高到低排序，拿到flag")]),t._v(" "),s("p",[s("img",{attrs:{src:"/medias/daily/misc/4.png",alt:"4"}})]),t._v(" "),s("p",[t._v("分析：通过词频统计出题，flag里的每个字母都只能用一次了，可能会比较短？")]),t._v(" "),s("h2",{attrs:{id:"你会异或吗"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#你会异或吗"}},[t._v("#")]),t._v(" 你会异或吗")]),t._v(" "),s("p",[t._v("题目提示神秘数字"),s("code",[t._v("0x50")]),t._v("，winhex打开题目附件png，格式坏掉了，在图片的16进制数据里，前几个字节和"),s("code",[t._v("0x50")]),t._v("异或")]),t._v(" "),s("p",[s("img",{attrs:{src:"/medias/daily/misc/5.png",alt:"5"}})]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("data "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'d9'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'00'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'1e'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'17'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'5d'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'5a'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'4a'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\ndata1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" i "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" data"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    data1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("append"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("hex")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("int")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("16")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x50")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ['0x89', '0x50', '0x4e', '0x47', '0xd', '0xa', '0x1a']")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("print")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("p",[t._v("得到"),s("code",[t._v("0x89 0x50 0x4e 0x47 0x0d 0xa 0x1a")]),t._v("，是png的文件头，写个脚本把文件修复一下")]),t._v(" "),s("div",{staticClass:"language-python line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-python"}},[s("code",[t._v("f"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./misc5.png"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'rb'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 二进制形式")]),t._v("\ncon"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("f"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("read"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("with")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("open")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'flag.png'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'wb'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("as")]),t._v(" nfile"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" b "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),t._v(" con"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 这里的b是int形式，要转换成bytes时，使用bytes(),且里面的内容需要加[]")]),t._v("\n        nfile"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("write"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("bytes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("b"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x50")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])]),s("p",[s("img",{attrs:{src:"/medias/daily/misc/6.png",alt:"6"}})]),t._v(" "),s("h2",{attrs:{id:"flag一分为二"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#flag一分为二"}},[t._v("#")]),t._v(" flag一分为二")]),t._v(" "),s("p",[t._v("放到"),s("code",[t._v("StegSolve")]),t._v("里文件分析一下，又get到了，原来"),s("code",[t._v("StegSolve")]),t._v("可以分析图片，可以通过"),s("code",[t._v("CRC")]),t._v("了解图片是否被修改过，看到计算出的CRC和显示的CRC已经对不上了")]),t._v(" "),s("p",[s("img",{attrs:{src:"/medias/daily/misc/7.png",alt:"7"}})]),t._v(" "),s("p",[t._v("试试修改文件高度，文件宽高"),s("code",[t._v("0010h：00 00 08 00为宽度，00 00 03 84为高度")]),t._v("，winhex把高度改大一点")]),t._v(" "),s("p",[s("img",{attrs:{src:"/medias/daily/misc/8.png",alt:"8"}})]),t._v(" "),s("p",[t._v("改到1000(4096)试试，放大可以看到第二部分flag了，另一部分不在这里")]),t._v(" "),s("p",[s("img",{attrs:{src:"/medias/daily/misc/9.png",alt:"9"}})]),t._v(" "),s("p",[t._v("这个手动修改不够完美和优雅，如果手动修改达到看到信息的方法，后续再用这个图片，可能会报错导致不能再次打开图片。推荐一款开源工具"),s("a",{attrs:{href:"https://github.com/AabyssZG/Deformed-Image-Restorer",target:"_blank",rel:"noopener noreferrer"}},[t._v("【Deformed-Image-Restorer】"),s("OutboundLink")],1),t._v("，"),s("code",[t._v("CTFer的福音，Misc手的利器，自动爆破PNG图片宽高并一键修复离线脚本工具")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/medias/daily/misc/10.png",alt:"10"}})]),t._v(" "),s("p",[s("img",{attrs:{src:"/medias/daily/misc/11.png",alt:"11"}})]),t._v(" "),s("p",[t._v("提取出来的盲水印有不可见字符？")]),t._v(" "),s("p",[s("img",{attrs:{src:"/medias/daily/misc/12.png",alt:"12"}})]),t._v(" "),s("p",[t._v("分析：修改高度，通过winhex修改图片宽高位置，达到隐藏部分信息，不使用脚本，手改难以准确恢复真实宽高。盲水印看起来也挺好玩的")])])}),[],!1,null,null,null);s.default=e.exports}}]);