(window.webpackJsonp=window.webpackJsonp||[]).push([[111],{467:function(s,a,t){"use strict";t.r(a);var n=t(8),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"捡垃圾"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#捡垃圾"}},[s._v("#")]),s._v(" 捡垃圾")]),s._v(" "),a("p",[s._v("最近1北捡垃圾小主机J1800+8+128，爱了爱了")]),s._v(" "),a("p",[a("img",{attrs:{src:"/medias/RTL8153/2.png",alt:"2"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"/medias/RTL8153/3.png",alt:"3"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"/medias/RTL8153/4.png",alt:"4"}})]),s._v(" "),a("p",[s._v("主板网口是也是1北兆的，主板还有两个usb3.0，用usb3转RJ45网口，网络不能用，debian需要打驱动")]),s._v(" "),a("p",[a("img",{attrs:{src:"/medias/RTL8153/usb.png",alt:"usb"}})]),s._v(" "),a("h2",{attrs:{id:"过程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#过程"}},[s._v("#")]),s._v(" 过程")]),s._v(" "),a("p",[s._v("搜到了绿联提供的驱动，拿来试试")]),s._v(" "),a("p",[a("img",{attrs:{src:"/medias/RTL8153/ll.png",alt:"ll"}})]),s._v(" "),a("p",[a("a",{attrs:{href:"https://www.lulian.cn/download/158.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("绿联驱动"),a("OutboundLink")],1)]),s._v(" "),a("p",[s._v("windows上下载，解压，找到linux的目录，上传到debian上")]),s._v(" "),a("p",[s._v("安装编译依赖​")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" update\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" build-essential linux-headers-"),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("uname")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" dkms\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("进入目录、编译")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" RTL8153_RTL8153B_USB_linux_v2.16.1/\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("编译成功")]),s._v(" "),a("p",[a("img",{attrs:{src:"/medias/RTL8153/5.png",alt:"5"}})]),s._v(" "),a("p",[s._v("安装驱动")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("           "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装驱动")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" depmod "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-a")]),s._v("             "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 更新模块依赖")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" modprobe "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-r")]),s._v(" r8152     "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 卸载旧驱动（如已加载）")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" modprobe r8152        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 加载新驱动")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("更新 initramfs（确保启动时加载）")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" update-initramfs "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-u")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("验证驱动是否加载成功")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("lsmod "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" r8152\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"/medias/RTL8153/6.png",alt:"6"}})]),s._v(" "),a("p",[s._v("这个过程，不管有没有安装驱动，网线插在usb转网口上，都会有一个设备存在，存在ip、mac地址等信息，但是不能正常使用")]),s._v(" "),a("p",[s._v("在我板载网口和usb转网口都接上时，我禁用了之前开启的板载无线网卡，usb网口可以正常工作，去掉板载网口，这个usb网口就不能正常工作了，玄学问题？")]),s._v(" "),a("p",[a("img",{attrs:{src:"/medias/RTL8153/7.png",alt:"7"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"/medias/RTL8153/8.png",alt:"8"}})])])}),[],!1,null,null,null);a.default=e.exports}}]);