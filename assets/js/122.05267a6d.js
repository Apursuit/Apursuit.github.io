(window.webpackJsonp=window.webpackJsonp||[]).push([[122],{478:function(t,a,s){"use strict";s.r(a);var e=s(8),r=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"吾爱破解-逆向入门学习"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#吾爱破解-逆向入门学习"}},[t._v("#")]),t._v(" 吾爱破解---逆向入门学习")]),t._v(" "),a("p",[t._v("好想学破解(逆向)，用C++写木马，破解游戏修改数据那该有多强(流口水)")]),t._v(" "),a("p",[t._v("在室友眼皮子下安装PHPstudy，写木马控制，听起来有点太幽默了。今天逛吾爱破解，发现很有趣，记一下解题记录")]),t._v(" "),a("h2",{attrs:{id:"资源分享"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#资源分享"}},[t._v("#")]),t._v(" 资源分享")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://www.52pojie.cn/thread-1358649-1-1.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("入门教程"),a("OutboundLink")],1),t._v("   神中神")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://down.52pojie.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("工具"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"工具准备"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#工具准备"}},[t._v("#")]),t._v(" 工具准备")]),t._v(" "),a("p",[t._v("可能因时效性工具链接失效，请自行搜索下载")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://down.52pojie.cn/Tools/PEtools/PEiD%200.95.zip",target:"_blank",rel:"noopener noreferrer"}},[t._v("PEID"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://down.52pojie.cn/Tools/PEtools/DIE_winxp_portable_3.09_x86.zip",target:"_blank",rel:"noopener noreferrer"}},[t._v("DIE"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://down.52pojie.cn/Tools/Debuggers/%E5%90%BE%E7%88%B1%E7%A0%B4%E8%A7%A3%E4%B8%93%E7%94%A8%E7%89%88Ollydbg.rar",target:"_blank",rel:"noopener noreferrer"}},[t._v("OllyDbg"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://down.52pojie.cn/Tools/Disassemblers/IDA_Pro_v8.3_Portable.zip",target:"_blank",rel:"noopener noreferrer"}},[t._v("IDA"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"题目1-cm1-无壳"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#题目1-cm1-无壳"}},[t._v("#")]),t._v(" 题目1:CM1(无壳)")]),t._v(" "),a("p",[t._v("准备好的题目(账号密码登录的判断)")]),t._v(" "),a("p",[a("img",{attrs:{src:"/medias/re01/0.png",alt:"题目"}})]),t._v(" "),a("p",[t._v("扔进PEID")]),t._v(" "),a("p",[a("img",{attrs:{src:"/medias/re01/1.png",alt:"题目1"}})]),t._v(" "),a("p",[t._v("看出是vc++6.0写的，无壳,直接扔OD，进行中文引擎搜索")]),t._v(" "),a("p",[a("img",{attrs:{src:"/medias/re01/2.png",alt:"od"}})]),t._v(" "),a("p",[t._v("双击看汇编，定位到了字符串位置，往上可以看到最近的一条"),a("strong",[t._v("je指令")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/medias/re01/3.png",alt:"je"}})]),t._v(" "),a("p",[t._v("双击这条指令即可修改，修改为空指令nop")]),t._v(" "),a("p",[a("img",{attrs:{src:"/medias/re01/5.png",alt:"nop"}})]),t._v(" "),a("p",[t._v("点击左上方的调试按钮，或者右键 copy to executable，选择生成一个新的exe文件，保存即可")]),t._v(" "),a("p",[a("img",{attrs:{src:"/medias/re01/4.png",alt:"调试"}})]),t._v(" "),a("p",[t._v("点击运行，随意用户密码，成功进入程序")]),t._v(" "),a("p",[a("img",{attrs:{src:"/medias/re01/6.png",alt:"成功"}})]),t._v(" "),a("h3",{attrs:{id:"尝试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#尝试"}},[t._v("#")]),t._v(" 尝试")]),t._v(" "),a("p",[t._v("怎么不填账号密码直接登录成功？找到不填账号密码的提示定位")]),t._v(" "),a("p",[a("img",{attrs:{src:"/medias/re01/7.png",alt:"提示"}})]),t._v(" "),a("p",[t._v("把这里je指令也改nop试试")]),t._v(" "),a("p",[t._v("改完没有直接弹登录成功。预期的弹出了账号密码不能为空")]),t._v(" "),a("p",[a("img",{attrs:{src:"/medias/re01/8.png",alt:"弹窗"}})]),t._v(" "),a("p",[t._v("具体看看这里的汇编代码")]),t._v(" "),a("p",[a("img",{attrs:{src:"/medias/re01/9.png",alt:"汇编"}})]),t._v(" "),a("p",[t._v("je指令判断后弹出没有账号密码的弹窗，否则跳转到正常的账号密码判断。如果用jmp指令代替je指令\n，则跳转到账号密码判断，直接登录成功。")]),t._v(" "),a("p",[t._v("修改，调试")]),t._v(" "),a("p",[a("img",{attrs:{src:"/medias/re01/10.png",alt:"jmp"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"/medias/re01/11.png",alt:"success"}})]),t._v(" "),a("p",[t._v("其他：")]),t._v(" "),a("p",[t._v("能不能点开程序直接弹窗登录成功？(好像有点难，应该有个判断是否点击了按钮)")]),t._v(" "),a("h2",{attrs:{id:"题目二"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#题目二"}},[t._v("#")]),t._v(" 题目二")]),t._v(" "),a("p",[t._v("扔进PEID，有壳")]),t._v(" "),a("p",[a("img",{attrs:{src:"/medias/re01/12.png",alt:"壳"}})]),t._v(" "),a("p",[t._v("扔到DIE(不太清除这一步是为什么，可能是为了找到壳的入口点？)")]),t._v(" "),a("p",[t._v("补充：在PEID中查看是否存在壳，有壳时看不到编程语言/工具，只能看到壳的信息，例如upx，放到DIE时，一般可以看到更多信息，比如PEID不能识别的编程语言/工具，以及壳的详细信息")]),t._v(" "),a("p",[a("img",{attrs:{src:"/medias/re01/13.png",alt:"DIE"}})]),t._v(" "),a("p",[t._v("加了壳，先运行这个exe，然后打开OD，attach到这个exe上")]),t._v(" "),a("p",[a("img",{attrs:{src:"/medias/re01/14.png",alt:"attach"}})]),t._v(" "),a("p",[t._v("ctrl+G，输入入口点地址00401000，然后就可以按照第一题来做")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("答疑：为什么在OD中输入入口点地址00401000"),a("br"),t._v("\n系统默认通常程序领空的起始地址，跳过壳，进入程序入口")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/medias/re01/15.png",alt:"断点"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"/medias/re01/16.png",alt:"display"}})]),t._v(" "),a("p",[t._v("找到位置")]),t._v(" "),a("p",[a("img",{attrs:{src:"/medias/re01/17.png",alt:"postion"}})]),t._v(" "),a("p",[t._v("同样可以直接改成nop指令")]),t._v(" "),a("p",[t._v("调试")]),t._v(" "),a("p",[a("img",{attrs:{src:"/medias/re01/18.png",alt:"debug"}})]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),a("p",[t._v("注意：通过OD查看00401000方式脱壳时，程序会存在不能保存的情况，需要补丁软件，后续补充")])]),t._v(" "),a("h2",{attrs:{id:"题目三"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#题目三"}},[t._v("#")]),t._v(" 题目三")]),t._v(" "),a("p",[t._v("同样扔到PEID，无壳。直接扔OD混合双打")]),t._v(" "),a("p",[t._v("找到目标位置后，信息量很大，把这三条指令类比到编程语言中就好理解一些了")]),t._v(" "),a("ul",[a("li",[t._v("call 调用子程序，搭配ret结束call调用")]),t._v(" "),a("li",[t._v("cmp 类似减法，cmp eax,0x0  如果eax=0，跳转，如果eax=1不跳转")]),t._v(" "),a("li",[t._v("jnz 上一条是0，跳转，1不跳转")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("cmp指令与ZF标志有关联。cmp进行减法后，如果结果=0，ZF=1，否则ZF=0。jnz指令判断ZF，ZF=0则跳转，ZF=1不跳转")])]),t._v(" "),a("p",[t._v("一个jnz命令判断eax是否为1，如果eax=1，cmp将ZF设为0，跳到密码错误，所以我们需要将eax中设为0")]),t._v(" "),a("p",[a("img",{attrs:{src:"/medias/re01/19.png",alt:"jnz"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"/medias/re01/20.png",alt:"eax"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"/medias/re01/21.png",alt:"debug"}})]),t._v(" "),a("p",[t._v("找到call调用的地址，把前两行给eax赋值为0，结束这个call调用")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("mov eax,0\nret\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("改为发现竟然弹没有叔账号密码。可能过程有通过eax判断是否输了密码？那就再换了")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("mov eax,1\nret\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[t._v("把下面的cmp判断改了")]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("cmp eax,0x1\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[a("img",{attrs:{src:"/medias/re01/22.png",alt:"update"}})]),t._v(" "),a("p",[t._v("再调试就可以了")]),t._v(" "),a("p",[a("img",{attrs:{src:"/medias/re01/23.png",alt:"debug"}})]),t._v(" "),a("h2",{attrs:{id:"最后"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#最后"}},[t._v("#")]),t._v(" 最后")]),t._v(" "),a("p",[t._v("总结，今天在吾爱破解论坛学了很多，满足了，开心。")]),t._v(" "),a("p",[t._v("又水了一篇(😀)，豪丸")])])}),[],!1,null,null,null);a.default=r.exports}}]);